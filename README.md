Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.
Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлу-
логу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.
Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.
Форматом для файла-лога и файла-результата является yaml.
Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.
Загрузка константы
A B C
Биты 0—3 Биты 4—31 Биты 32—61
1 Адрес Константа
Размер команды: 8 байт. Операнд: поле C. Результат: значение в памяти по
адресу, которым является поле B.
Тест (A=1, B=770, C=438):
0x21, 0x30, 0x00, 0x00, 0xB6, 0x01, 0x00, 0x00

Чтение значения из памяти
A B C
Биты 0—3 Биты 4—31 Биты 32—59
12 Адрес Адрес
Размер команды: 8 байт. Операнд: значение в памяти по адресу, которым
является поле B. Результат: значение в памяти по адресу, которым является поле
C.
Тест (A=12, B=430, C=464):
0xEC, 0x1A, 0x00, 0x00, 0xD0, 0x01, 0x00, 0x00
Запись значения в память
A B C D
Биты 0—3 Биты 4—31 Биты 32—37 Биты 38—65
15 Адрес Смещение Адрес
Размер команды: 9 байт. Операнд: значение в памяти по адресу, которым
является поле D. Результат: значение в памяти по адресу, которым является сумма
адреса (значение в памяти по адресу, которым является поле B) и смещения (поле
C).
Тест (A=15, B=131, C=10, D=256):
0x3F, 0x08, 0x00, 0x00, 0x0A, 0x40, 0x00, 0x00, 0x00
Унарная операция: abs()
A B C
Биты 0—3 Биты 4—31 Биты 32—59
13 Адрес Адрес
Размер команды: 8 байт. Операнд: значение в памяти по адресу, которым
является значение в памяти по адресу, которым является поле B. Результат:
значение в памяти по адресу, которым является поле C.

Тест (A=13, B=681, C=246):
0x9D, 0x2A, 0x00, 0x00, 0xF6, 0x00, 0x00, 0x00
Тестовая программа
Выполнить поэлементно операцию abs() над вектором длины 8. Результат
записать в исходный вектор.
